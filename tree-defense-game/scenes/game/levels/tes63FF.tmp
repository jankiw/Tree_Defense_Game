[gd_scene load_steps=8 format=4 uid="uid://ceo1rs3rww66"]

[ext_resource type="Script" path="res://src/test_level.gd" id="1_3js8v"]
[ext_resource type="Script" path="res://src/test_spawner.gd" id="2_6pyhn"]
[ext_resource type="PackedScene" uid="uid://c7uhdeuv3l2xu" path="res://scenes/game/test_tile_map_layer.tscn" id="2_swsj3"]
[ext_resource type="PackedScene" uid="uid://jki4hf4fh4rh" path="res://scenes/game/game_camera.tscn" id="3_epw57"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5u2ny"]
size = Vector2(288, 223)

[sub_resource type="Curve2D" id="Curve2D_ufo2o"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -47, -80, 0, 0, 0, 0, 47, -81, 0, 0, 0, 0, 47, 47, 0, 0, 0, 0, 17, 49, 0, 0, 0, 0, 15, 15, 0, 0, 0, 0, -16, 15, 0, 0, 0, 0, -15, 49)
}
point_count = 7

[sub_resource type="Curve2D" id="Curve2D_q2j2i"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 142, -16, 0, 0, 0, 0, 49, -16, 0, 0, 0, 0, 48, 46, 0, 0, 0, 0, 16, 48, 0, 0, 0, 0, 16, 13, 0, 0, 0, 0, -17, 13, 0, 0, 0, 0, -17, 49)
}
point_count = 7

[node name="TestLevel" type="Node"]
script = ExtResource("1_3js8v")

[node name="Map" parent="." instance=ExtResource("2_swsj3")]
tile_map_data = PackedByteArray("AAD+//3/AAAAAAMAAAD//wEAAAABAAMAAAD///3/AAADAAAAAAAAAP3/AAADAAAAAAABAP3/AAACAAAAAAABAP7/AAADAAEAAAAEAP//AAAAAAMAAAABAP//AAAAAAEAAAADAP//AAADAAAAAAACAP//AAADAAAAAAABAAAAAAADAAEAAAABAAEAAAACAAIAAAAAAAEAAAAAAAIAAAAAAAAAAAACAAAAAAD//wAAAAAAAAAAAAAAAP//AAADAAIAAAAAAP7/AAADAAIAAAD///7/AAADAAIAAAD+//7/AAADAAIAAAD+////AAADAAIAAAD/////AAADAAIAAAD+/wAAAAADAAIAAAD+/wEAAAADAAIAAAD+/wIAAAADAAIAAAD//wIAAAADAAIAAAAAAAIAAAADAAIAAAABAAIAAAADAAIAAAACAAIAAAADAAIAAAACAAEAAAADAAIAAAACAAAAAAADAAIAAAADAAAAAAADAAIAAAADAAEAAAADAAIAAAADAAIAAAADAAIAAAAEAAIAAAADAAIAAAAEAAEAAAADAAIAAAAEAAAAAAADAAIAAAAEAP7/AAADAAIAAAADAP7/AAADAAIAAAACAP7/AAADAAIAAAAFAAIAAAADAAIAAAAFAAEAAAADAAIAAAAFAAAAAAADAAIAAAAFAP//AAADAAIAAAAFAP7/AAADAAIAAAAFAP3/AAADAAIAAAAEAP3/AAADAAIAAAADAP3/AAADAAIAAAACAP3/AAADAAIAAAAFAPz/AAADAAIAAAAEAPz/AAADAAIAAAADAPz/AAADAAIAAAACAPz/AAADAAIAAAABAPz/AAADAAIAAAAAAPz/AAADAAIAAAD///z/AAADAAIAAAD+//z/AAADAAIAAAD9//z/AAADAAIAAAD9//3/AAADAAIAAAD9//7/AAADAAIAAAD9////AAADAAIAAAD9/wAAAAADAAIAAAD9/wEAAAADAAIAAAD9/wIAAAADAAIAAAA=")

[node name="Area2D" type="Area2D" parent="Map"]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Area2D"]
position = Vector2(48, -15.5)
shape = SubResource("RectangleShape2D_5u2ny")

[node name="GameCamera" parent="." instance=ExtResource("3_epw57")]
visible = false

[node name="Spawners" type="Node" parent="."]

[node name="Spawner1" type="Node" parent="Spawners"]
script = ExtResource("2_6pyhn")

[node name="EnemyTimer" type="Timer" parent="Spawners/Spawner1"]

[node name="WaveTimer" type="Timer" parent="Spawners/Spawner1"]
one_shot = true

[node name="Path" type="Path2D" parent="Spawners/Spawner1"]
curve = SubResource("Curve2D_ufo2o")

[node name="Spawner2" type="Node" parent="Spawners"]
script = ExtResource("2_6pyhn")

[node name="EnemyTimer" type="Timer" parent="Spawners/Spawner2"]

[node name="WaveTimer" type="Timer" parent="Spawners/Spawner2"]
one_shot = true

[node name="Path" type="Path2D" parent="Spawners/Spawner2"]
curve = SubResource("Curve2D_q2j2i")

[connection signal="timeout" from="Spawners/Spawner1/EnemyTimer" to="Spawners/Spawner1" method="_on_enemy_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawner1/WaveTimer" to="Spawners/Spawner1" method="_on_wave_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawner2/EnemyTimer" to="Spawners/Spawner2" method="_on_enemy_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawner2/WaveTimer" to="Spawners/Spawner2" method="_on_wave_timer_timeout"]
